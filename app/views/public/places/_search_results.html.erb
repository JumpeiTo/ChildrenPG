<% if places.present? %>
  <div class="row">
    <% places.each do |place| %>
      <%= link_to places_detailed_search_path(place_id: place.place_id), class: 'text-dark places mb-1', style: 'width: 95%;' do %>
        <ul class="list-group">
          <li class="list-group-item d-flex places" style="height: 170px;">
            <div class="mr-3 d-flex align-items-center" style="width: 30%;">
              <% if place.photos.present? %>
                <% place.photos.each do |photo| %>
                  <% photo_url = "https://maps.googleapis.com/maps/api/place/photo?maxwidth=300&photoreference=#{photo.photo_reference}&key=#{ENV['GOOGLE_API_KEY']}" %>
                  <img src="<%= photo_url %>" alt="写真" width="100%" height="95%">
                <% end %>
              <% else %>
                <img src="/assets/no_image32.png" width="100%" height="95%">
              <% end %>
            </div>
            <div>
              <h3 class="mb-3" style="font-size: 26px;"><%= place.name.truncate(17) %></h3>
              
              <% if place.json_result_object["plus_code"].present? %>
                <p class="mb-1"><%= place.json_result_object["plus_code"]["compound_code"] %></p>
              <% end %>
              
              <% if place.vicinity.present? %>
                <p class="mb-2"><%= place.vicinity %></p>
              <% end %>
  
              <% if place.rating.present? %>
                <p>Google評価: <%= place.rating %></p>
              <% else %>
                <p>Google評価: なし</p>
              <% end %>
            </div>
          </li>
        </ul>
      <% end %>
    <% end %>
  </div>
<% else %>
  <p class="mt-3" style="font-size: 1.6rem;">検索結果がありません。</p>
<% end %>